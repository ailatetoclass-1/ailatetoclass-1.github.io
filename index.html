<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Link Search</title>
</head>
<body>
  <h1>Search Links</h1>
  <input type="text" id="search" placeholder="Search..." />
  <ul id="results"></ul>

  <script>
  let entries = [];

  fetch('data.txt')
    .then(res => res.text())
    .then(text => {
      entries = text.split('\n').filter(line => line.trim() !== '').map(line => {
        const [tag, urls] = line.split('|');
        return {
          tag: tag.trim().toLowerCase(),
          urls: urls.trim().split(/\s+/)  // split by spaces into an array
        };
      });
    });

  document.getElementById('search').addEventListener('input', function() {
    const query = this.value.toLowerCase();
    const resultList = document.getElementById('results');
    resultList.innerHTML = '';

    entries.forEach(entry => {
      if (entry.tag.includes(query)) {
        const li = document.createElement('li');
        li.innerHTML = `<strong>${entry.tag}</strong>:<br>` +
          entry.urls.map(url => `<a href="${url}" target="_blank">${url}</a>`).join('<br>');
        resultList.appendChild(li);
      }
    });
  });
</script>

</body>
</html>
